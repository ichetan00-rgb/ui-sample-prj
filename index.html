<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corporate Banking - Payment Journey Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="theme-toggle-btn" class="btn btn--outline">
            <span id="theme-icon">üåô</span>
        </button>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <div class="logo">
                    <h1>Corporate Banking</h1>
                    <p>Payment Journey Tracker</p>
                </div>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="username" class="form-label">Email / Username</label>
                    <input type="text" id="username" class="form-control" placeholder="Enter your email or username" required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
                </div>
                <div class="form-options">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" id="remember-me">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Sign In</button>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="main-app hidden">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>CB Tracker</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="#" class="nav-link active" data-page="home">üè† Home</a></li>
                <li><a href="#" class="nav-link" data-page="dashboard">üìä Dashboard</a></li>
                <li><a href="#" class="nav-link" data-page="search">üîç Search</a></li>
                <li><a href="#" class="nav-link" data-page="reports">üìã Reports</a></li>
            </ul>
            <div class="sidebar-footer">
                <button id="logout-btn" class="btn btn--outline btn--sm">Logout</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Page -->
            <div id="home-page" class="page-content">
                <div class="search-container">
                    <div class="search-header">
                        <h1>Track Your Payments</h1>
                        <p>Enter a transaction ID or upload a file to track payment journeys</p>
                    </div>
                    <div class="search-interface">
                        <div class="search-input-wrapper">
                            <input type="text" id="transaction-search" class="search-input" placeholder="Enter Transaction ID (e.g., TXN-2024-00000001)">
                            <button id="search-btn" class="search-button">Track Payment</button>
                        </div>
                        <div class="file-upload-section">
                            <div class="upload-area" id="upload-area">
                                <div class="upload-icon">üìé</div>
                                <p>Drag and drop CSV file here or <span class="upload-link">browse files</span></p>
                                <input type="file" id="file-upload" accept=".csv,.xlsx" hidden>
                            </div>
                        </div>
                        <div class="quick-actions">
                            <button class="quick-action-btn" data-txn="TXN-2024-00000001">Recent: TXN-001</button>
                            <button class="quick-action-btn" data-txn="TXN-2024-00000002">Recent: TXN-002</button>
                            <button class="quick-action-btn" data-txn="TXN-2024-00000003">Recent: TXN-003</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page-content hidden">
                <div class="dashboard-header">
                    <h1>Payment Dashboard</h1>
                    <div class="dashboard-filters">
                        <select id="date-filter" class="form-control">
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month" selected>This Month</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                </div>

                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card" data-section="total">
                        <div class="card-header">
                            <h3>Total Payments</h3>
                            <div class="card-icon">üí∞</div>
                        </div>
                        <div class="card-stats">
                            <div class="stat-value" id="total-count">4</div>
                            <div class="stat-label">Transactions</div>
                            <div class="stat-amount" id="total-value">$31,950,000</div>
                        </div>
                    </div>

                    <div class="summary-card" data-section="success">
                        <div class="card-header">
                            <h3>Successful</h3>
                            <div class="card-icon">‚úÖ</div>
                        </div>
                        <div class="card-stats">
                            <div class="stat-value" id="success-count">2</div>
                            <div class="stat-label">Completed</div>
                            <div class="stat-amount" id="success-value">$6,200,000</div>
                        </div>
                    </div>

                    <div class="summary-card" data-section="progress">
                        <div class="card-header">
                            <h3>In Progress</h3>
                            <div class="card-icon">‚è≥</div>
                        </div>
                        <div class="card-stats">
                            <div class="stat-value" id="progress-count">1</div>
                            <div class="stat-label">Processing</div>
                            <div class="stat-amount" id="progress-value">‚Ç¨25,000,000</div>
                        </div>
                    </div>

                    <div class="summary-card" data-section="failed">
                        <div class="card-header">
                            <h3>Failed</h3>
                            <div class="card-icon">‚ùå</div>
                        </div>
                        <div class="card-stats">
                            <div class="stat-value" id="failed-count">1</div>
                            <div class="stat-label">Failed</div>
                            <div class="stat-amount" id="failed-value">¬£750,000</div>
                        </div>
                    </div>
                </div>

                <!-- City Breakdown Modal -->
                <div id="city-breakdown-modal" class="modal hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="breakdown-title">City Breakdown</h3>
                            <button class="modal-close">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div id="city-breakdown-content"></div>
                        </div>
                    </div>
                </div>

                <!-- Recent Payments Table -->
                <div class="table-section">
                    <h2>Recent Payments</h2>
                    <div class="table-wrapper">
                        <table class="payments-table">
                            <thead>
                                <tr>
                                    <th>Transaction ID</th>
                                    <th>Account Holder</th>
                                    <th>Debtor</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Progress</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="payments-table-body">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Payment Journey Visualization -->
            <div id="journey-page" class="page-content hidden">
                <div class="journey-header">
                    <button id="back-to-dashboard" class="btn btn--outline">‚Üê Back to Dashboard</button>
                    <div class="journey-info">
                        <h1 id="journey-title">Payment Journey</h1>
                        <p id="journey-subtitle">Track payment progress through all stages</p>
                    </div>
                    <div class="journey-controls">
                        <button id="zoom-out" class="btn btn--outline">Zoom Out</button>
                        <button id="zoom-in" class="btn btn--outline">Zoom In</button>
                        <button id="fit-screen" class="btn btn--outline">Fit Screen</button>
                    </div>
                </div>

                <!-- Payment Details Card -->
                <div class="payment-details-card">
                    <div class="payment-summary">
                        <div class="payment-info">
                            <h3 id="payment-id">TXN-2024-00000001</h3>
                            <p id="payment-amount">$5,000,000 USD</p>
                            <p id="payment-parties">Morgan Stanley Corp ‚Üí JP Morgan Chase</p>
                        </div>
                        <div class="payment-status">
                            <span id="payment-status-badge" class="status status--success">Completed</span>
                            <p id="payment-progress">Stage 17 of 17</p>
                        </div>
                    </div>
                </div>

                <!-- Journey Visualization -->
                <div class="journey-visualization">
                    <div class="journey-canvas" id="journey-canvas">
                        <!-- Journey stages will be rendered here -->
                    </div>
                </div>

                <!-- Stage Details Panel -->
                <div class="stage-details-panel hidden" id="stage-details-panel">
                    <div class="stage-details-header">
                        <h3 id="stage-name">Stage Name</h3>
                        <button class="panel-close">&times;</button>
                    </div>
                    <div class="stage-details-body">
                        <div class="stage-info">
                            <p><strong>Status:</strong> <span id="stage-status">Completed</span></p>
                            <p><strong>City:</strong> <span id="stage-city">New York</span></p>
                            <p><strong>Timestamp:</strong> <span id="stage-timestamp">2024-09-01 15:45:00</span></p>
                            <p id="stage-error" class="error-message hidden"><strong>Error:</strong> <span id="stage-error-text"></span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Results Page -->
            <div id="search-results-page" class="page-content hidden">
                <div class="search-results-header">
                    <button id="back-to-home" class="btn btn--outline">‚Üê Back to Home</button>
                    <h1>Search Results</h1>
                </div>
                <div class="results-summary">
                    <p id="results-count">Found 0 transactions</p>
                </div>
                <div class="results-table-wrapper">
                    <table class="payments-table">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Account Holder</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Route</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="search-results-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>